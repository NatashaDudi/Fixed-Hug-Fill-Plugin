function changeAutolayoutResizing(i,t,e,o){"NONE"!=i.layoutMode&&("fix"==e||"fill"==e&&!t?fix(i,!0):"hug"==e?hug(i,!0):"fill"==e&&t&&fill(i,!0),"fix"==o||"fill"==o&&!t?fix(i,!1):"hug"==o?hug(i,!1):"fill"==o&&t&&fill(i,!1))}function changeShapeResizing(i,t,e,o,n){"fix"==o?"NONE"!=t.layoutMode&&(t.layoutSizingHorizontal="FIXED"):"hug"==o&&"TEXT"==i.type?hasAutolayoutCharacteristics(t)&&"NONE"!=e.layoutMode&&"GROUP"!=i.parent.type&&(t.layoutSizingHorizontal="HUG"):"fill"==o&&"NONE"!=e.layoutMode&&"AUTO"==t.layoutPositioning&&"GROUP"!=i.parent.type&&(t.layoutSizingHorizontal="FILL"),"fix"==n?"NONE"!=t.layoutMode&&(t.layoutSizingVertical="FIXED"):"hug"==n&&"TEXT"==i.type?hasAutolayoutCharacteristics(t)&&"GROUP"!=i.parent.type&&(t.layoutSizingVertical="HUG"):"fill"==n&&"NONE"!=e.layoutMode&&"AUTO"==t.layoutPositioning&&"GROUP"!=i.parent.type&&(t.layoutSizingVertical="FILL")}function fix(i,t){fixOrStretch(i,t,!0),fixOrHug(i,t,!0)}function hug(i,t){fixOrStretch(i,t,!0),fixOrHug(i,t,!1)}function fill(i,t){fixOrStretch(i,t,!1),fixOrHug(i,t,!0)}function fixOrHug(i,t,e){var o;o=e?"FIXED":"AUTO",t?"HORIZONTAL"==i.layoutMode?i.primaryAxisSizingMode=o:"VERTICAL"==i.layoutMode&&(i.counterAxisSizingMode=o):"VERTICAL"==i.layoutMode?i.primaryAxisSizingMode=o:"HORIZONTAL"==i.layoutMode&&(i.counterAxisSizingMode=o)}function fixOrStretch(i,t,e){var o,n,a=i.parent;e?(o=0,n="INHERIT"):(o=1,n="STRETCH"),t?"HORIZONTAL"==a.layoutMode?i.layoutGrow=o:"VERTICAL"==a.layoutMode&&(i.layoutAlign=n):"VERTICAL"==a.layoutMode?i.layoutGrow=o:"HORIZONTAL"==a.layoutMode&&(i.layoutAlign=n)}function checkSelectionType(i){if(0==i.length)return figma.closePlugin("You need to select something to use this plugin."),!1;for(var t in i)if("FRAME"!=i[t].type&&"COMPONENT"!=i[t].type&&"INSTANCE"!=i[t].type&&"COMPONENT_SET"!=i[t].type)return figma.closePlugin("You need to select frames, components or instances to use this plugin."),!1;return!0}function hasAutolayoutCharacteristics(i){return"NONE"!=i.layoutMode&&"AUTO"==i.layoutPositioning}checkSelectionType(figma.currentPage.selection)&&figma.showUI(__html__,{width:400,height:300,title:"Fixed-Hug-Fill"}),figma.ui.onmessage=(i=>{if("start"===i.type){i.ignore_hidden&&(figma.skipInvisibleInstanceChildren=!0);var t=figma.currentPage.selection;if(checkSelectionType(t))for(var e in t){var o=t[e];if(changeAutolayoutResizing(o,!1,i.width,i.height),"children"in o)for(var n of i.ignore_hidden?o.findAll(i=>!0===i.visible):o.findAll()){var a=n;"FRAME"==n.type||"INSTANCE"==n.type||"COMPONENT"==n.type||"COMPONENT_SET"==n.type?changeAutolayoutResizing(n,!0,i.width,i.height):"TEXT"==n.type?changeShapeResizing(n,a,n.parent,i.width,i.height):!i.include_shapes||"RECTANGLE"!=n.type&&"GROUP"!=n.type&&"ELLIPSE"!=n.type&&"LINE"!=n.type&&"POLYGON"!=n.type&&"STAR"!=n.type&&"VECTOR"!=n.type||changeShapeResizing(n,a,n.parent,i.width,i.height)}}figma.closePlugin()}else figma.closePlugin()});